<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49925874-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49925874-3');
  </script>

  <meta charset='utf-8'>
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>

  <title>Git - Stashing and Cleaning</title>

  <link href='http://git-scm.com/favicon.ico' rel='shortcut icon' type='image/x-icon'>

  <link rel="stylesheet" media="screen" href="http://git-scm.com/assets/application-f5f03bcc188ae8e970cde87b2de42e2bd3f2fd68d464f171318bad58b61c4cb7.css" />
  <script src="http://git-scm.com/assets/modernize-91eb7473bfa18e104376c623be884766692c7cf93c8769aea544ad57e3ea2292.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="http://git-scm.com/"><img src="http://git-scm.com/images/logo@2x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline"></span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="http://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="http://git-scm.com/about">About</a>
        <ul class="">
          <li>
            <a href="http://git-scm.com/about">Branching and Merging</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/small-and-fast">Small and Fast</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/distributed">Distributed</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/info-assurance">Data Assurance</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/staging-area">Staging Area</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/free-and-open-source">Free and Open Source</a>
          </li>
          <li>
            <a href="http://git-scm.com/about/trademark">Trademark</a>
          </li>
        </ul>
      </li>
      <li>
        <a class="active" href="http://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="http://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a href="http://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="http://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="http://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="http://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="http://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>
This book is available in
  <a href="http://git-scm.com/book/en">English</a>.
</p>
<p>
  Full translation available in
  <table>
    <tr><td><a href="http://git-scm.com/book/bg">български език</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/es">Español</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/fr">Français</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/gr">Ελληνικά</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/ja">日本語</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/ko">한국어</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/nl">Nederlands</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/ru">Русский</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/sl">Slovenščina</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/tl">Tagalog</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/uk">Українська</a></td></tr>
    <tr><td><a href="http://git-scm.com/book/zh">简体中文</a>,</td></tr>
  </table>
</p>
<p>
  Partial translations available in
  <table>
    <tr><td><a href="http://git-scm.com/book/cs">Čeština</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/mk">Македонски</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/pl">Polski</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/sr">Српски</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/uz">Ўзбекча</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/zh-tw">繁體中文</a>,</td></tr>
  </table>
</p>
<p>
  Translations started for
  <table>
    <tr><td><a href="http://git-scm.com/book/be">Беларуская</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/de">Deutsch</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/fa" dir="rtl">فارسی</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/id">Indonesian</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/it">Italiano</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/ms">Bahasa Melayu</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/pt-br">Português (Brasil)</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/pt-pt">Português (Portugal)</a>,</td></tr>
    <tr><td><a href="http://git-scm.com/book/tr">Türkçe</a>.</td></tr>
  </table>
</p>
<hr class="sidebar"/>
<p>
The source of this book is <a href="https://github.com/progit/progit2">hosted on GitHub.</a></br>
Patches, suggestions and comments are welcome.
</p>


  </nav>
</aside>

        <div id="content">
          

<div id='book-chapters'>
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="Git-Tools-Stashing-and-Cleaning.html#">Chapters ▾</a>
<div class='dropdown-panel' id='chapters-dropdown'>
  <div class="three-column">
    <div class='column-left'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>1. <a href="Getting-Started-About-Version-Control.html">Getting Started</a></h2>
    <ol>
          <li>
            1.1
            <a href="Getting-Started-About-Version-Control.html">About Version Control</a>
          </li>
          <li>
            1.2
            <a href="http://git-scm.com/book/en/v2/Getting-Started-A-Short-History-of-Git">A Short History of Git</a>
          </li>
          <li>
            1.3
            <a href="http://git-scm.com/book/en/v2/Getting-Started-Git-Basics">Git Basics</a>
          </li>
          <li>
            1.4
            <a href="http://git-scm.com/book/en/v2/Getting-Started-The-Command-Line">The Command Line</a>
          </li>
          <li>
            1.5
            <a href="http://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Installing Git</a>
          </li>
          <li>
            1.6
            <a href="Getting-Started-First-Time-Git-Setup.html">First-Time Git Setup</a>
          </li>
          <li>
            1.7
            <a href="Getting-Started-Getting-Help.html">Getting Help</a>
          </li>
          <li>
            1.8
            <a href="http://git-scm.com/book/en/v2/Getting-Started-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>2. <a href="Git-Basics-Getting-a-Git-Repository.html">Git Basics</a></h2>
    <ol>
          <li>
            2.1
            <a href="Git-Basics-Getting-a-Git-Repository.html">Getting a Git Repository</a>
          </li>
          <li>
            2.2
            <a href="Git-Basics-Recording-Changes-to-the-Repository.html">Recording Changes to the Repository</a>
          </li>
          <li>
            2.3
            <a href="Git-Basics-Viewing-the-Commit-History.html">Viewing the Commit History</a>
          </li>
          <li>
            2.4
            <a href="Git-Basics-Undoing-Things.html">Undoing Things</a>
          </li>
          <li>
            2.5
            <a href="Git-Basics-Working-with-Remotes.html">Working with Remotes</a>
          </li>
          <li>
            2.6
            <a href="Git-Basics-Tagging.html">Tagging</a>
          </li>
          <li>
            2.7
            <a href="Git-Basics-Git-Aliases.html">Git Aliases</a>
          </li>
          <li>
            2.8
            <a href="http://git-scm.com/book/en/v2/Git-Basics-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>3. <a href="Git-Branching-Branches-in-a-Nutshell.html">Git Branching</a></h2>
    <ol>
          <li>
            3.1
            <a href="Git-Branching-Branches-in-a-Nutshell.html">Branches in a Nutshell</a>
          </li>
          <li>
            3.2
            <a href="Git-Branching-Basic-Branching-and-Merging.html">Basic Branching and Merging</a>
          </li>
          <li>
            3.3
            <a href="Git-Branching-Branch-Management.html">Branch Management</a>
          </li>
          <li>
            3.4
            <a href="Git-Branching-Branching-Workflows.html">Branching Workflows</a>
          </li>
          <li>
            3.5
            <a href="Git-Branching-Remote-Branches.html">Remote Branches</a>
          </li>
          <li>
            3.6
            <a href="Git-Branching-Rebasing.html">Rebasing</a>
          </li>
          <li>
            3.7
            <a href="http://git-scm.com/book/en/v2/Git-Branching-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>4. <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols">Git on the Server</a></h2>
    <ol>
          <li>
            4.1
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols">The Protocols</a>
          </li>
          <li>
            4.2
            <a href="Git-on-the-Server-Getting-Git-on-a-Server.html">Getting Git on a Server</a>
          </li>
          <li>
            4.3
            <a href="Git-on-the-Server-Generating-Your-SSH-Public-Key.html">Generating Your SSH Public Key</a>
          </li>
          <li>
            4.4
            <a href="Git-on-the-Server-Setting-Up-the-Server.html">Setting Up the Server</a>
          </li>
          <li>
            4.5
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-Git-Daemon">Git Daemon</a>
          </li>
          <li>
            4.6
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-Smart-HTTP">Smart HTTP</a>
          </li>
          <li>
            4.7
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-GitWeb">GitWeb</a>
          </li>
          <li>
            4.8
            <a href="Git-on-the-Server-GitLab.html">GitLab</a>
          </li>
          <li>
            4.9
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-Third-Party-Hosted-Options">Third Party Hosted Options</a>
          </li>
          <li>
            4.10
            <a href="http://git-scm.com/book/en/v2/Git-on-the-Server-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>5. <a href="Distributed-Git-Distributed-Workflows.html">Distributed Git</a></h2>
    <ol>
          <li>
            5.1
            <a href="Distributed-Git-Distributed-Workflows.html">Distributed Workflows</a>
          </li>
          <li>
            5.2
            <a href="Distributed-Git-Contributing-to-a-Project.html">Contributing to a Project</a>
          </li>
          <li>
            5.3
            <a href="Distributed-Git-Maintaining-a-Project.html">Maintaining a Project</a>
          </li>
          <li>
            5.4
            <a href="http://git-scm.com/book/en/v2/Distributed-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-middle'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>6. <a href="GitHub-Account-Setup-and-Configuration.html">GitHub</a></h2>
    <ol>
          <li>
            6.1
            <a href="GitHub-Account-Setup-and-Configuration.html">Account Setup and Configuration</a>
          </li>
          <li>
            6.2
            <a href="GitHub-Contributing-to-a-Project.html">Contributing to a Project</a>
          </li>
          <li>
            6.3
            <a href="GitHub-Maintaining-a-Project.html">Maintaining a Project</a>
          </li>
          <li>
            6.4
            <a href="GitHub-Managing-an-organization.html">Managing an organization</a>
          </li>
          <li>
            6.5
            <a href="GitHub-Scripting-GitHub.html">Scripting GitHub</a>
          </li>
          <li>
            6.6
            <a href="http://git-scm.com/book/en/v2/GitHub-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>7. <a href="Git-Tools-Revision-Selection.html">Git Tools</a></h2>
    <ol>
          <li>
            7.1
            <a href="Git-Tools-Revision-Selection.html">Revision Selection</a>
          </li>
          <li>
            7.2
            <a href="Git-Tools-Interactive-Staging.html">Interactive Staging</a>
          </li>
          <li>
            7.3
            <a href="Git-Tools-Stashing-and-Cleaning.html">Stashing and Cleaning</a>
          </li>
          <li>
            7.4
            <a href="Git-Tools-Signing-Your-Work.html">Signing Your Work</a>
          </li>
          <li>
            7.5
            <a href="Git-Tools-Searching.html">Searching</a>
          </li>
          <li>
            7.6
            <a href="Git-Tools-Rewriting-History.html">Rewriting History</a>
          </li>
          <li>
            7.7
            <a href="Git-Tools-Reset-Demystified.html">Reset Demystified</a>
          </li>
          <li>
            7.8
            <a href="Git-Tools-Advanced-Merging.html">Advanced Merging</a>
          </li>
          <li>
            7.9
            <a href="Git-Tools-Rerere.html">Rerere</a>
          </li>
          <li>
            7.10
            <a href="Git-Tools-Debugging-with-Git.html">Debugging with Git</a>
          </li>
          <li>
            7.11
            <a href="Git-Tools-Submodules.html">Submodules</a>
          </li>
          <li>
            7.12
            <a href="Git-Tools-Bundling.html">Bundling</a>
          </li>
          <li>
            7.13
            <a href="Git-Tools-Replace.html">Replace</a>
          </li>
          <li>
            7.14
            <a href="Git-Tools-Credential-Storage.html">Credential Storage</a>
          </li>
          <li>
            7.15
            <a href="http://git-scm.com/book/en/v2/Git-Tools-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>8. <a href="Customizing-Git-Git-Configuration.html">Customizing Git</a></h2>
    <ol>
          <li>
            8.1
            <a href="Customizing-Git-Git-Configuration.html">Git Configuration</a>
          </li>
          <li>
            8.2
            <a href="Customizing-Git-Git-Attributes.html">Git Attributes</a>
          </li>
          <li>
            8.3
            <a href="Customizing-Git-Git-Hooks.html">Git Hooks</a>
          </li>
          <li>
            8.4
            <a href="Customizing-Git-An-Example-Git-Enforced-Policy.html">An Example Git-Enforced Policy</a>
          </li>
          <li>
            8.5
            <a href="http://git-scm.com/book/en/v2/Customizing-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>9. <a href="Git-and-Other-Systems-Git-as-a-Client.html">Git and Other Systems</a></h2>
    <ol>
          <li>
            9.1
            <a href="Git-and-Other-Systems-Git-as-a-Client.html">Git as a Client</a>
          </li>
          <li>
            9.2
            <a href="Git-and-Other-Systems-Migrating-to-Git.html">Migrating to Git</a>
          </li>
          <li>
            9.3
            <a href="http://git-scm.com/book/en/v2/Git-and-Other-Systems-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>10. <a href="Git-Internals-Plumbing-and-Porcelain.html">Git Internals</a></h2>
    <ol>
          <li>
            10.1
            <a href="Git-Internals-Plumbing-and-Porcelain.html">Plumbing and Porcelain</a>
          </li>
          <li>
            10.2
            <a href="Git-Internals-Git-Objects.html">Git Objects</a>
          </li>
          <li>
            10.3
            <a href="Git-Internals-Git-References.html">Git References</a>
          </li>
          <li>
            10.4
            <a href="http://git-scm.com/book/en/v2/Git-Internals-Packfiles">Packfiles</a>
          </li>
          <li>
            10.5
            <a href="Git-Internals-The-Refspec.html">The Refspec</a>
          </li>
          <li>
            10.6
            <a href="http://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">Transfer Protocols</a>
          </li>
          <li>
            10.7
            <a href="Git-Internals-Maintenance-and-Data-Recovery.html">Maintenance and Data Recovery</a>
          </li>
          <li>
            10.8
            <a href="http://git-scm.com/book/en/v2/Git-Internals-Environment-Variables">Environment Variables</a>
          </li>
          <li>
            10.9
            <a href="http://git-scm.com/book/en/v2/Git-Internals-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-right'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>A1. <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Graphical-Interfaces">Appendix A: Git in Other Environments</a></h2>
    <ol>
          <li>
            A1.1
            <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Graphical-Interfaces">Graphical Interfaces</a>
          </li>
          <li>
            A1.2
            <a href="Appendix-A%253A-Git-in-Other-Environments-Git-in-Visual-Studio.html">Git in Visual Studio</a>
          </li>
          <li>
            A1.3
            <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Eclipse">Git in Eclipse</a>
          </li>
          <li>
            A1.4
            <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Bash">Git in Bash</a>
          </li>
          <li>
            A1.5
            <a href="Appendix-A%253A-Git-in-Other-Environments-Git-in-Zsh.html">Git in Zsh</a>
          </li>
          <li>
            A1.6
            <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Powershell">Git in Powershell</a>
          </li>
          <li>
            A1.7
            <a href="http://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A2. <a href="http://git-scm.com/book/en/v2/Appendix-B%3A-Embedding-Git-in-your-Applications-Command-line-Git">Appendix B: Embedding Git in your Applications</a></h2>
    <ol>
          <li>
            A2.1
            <a href="http://git-scm.com/book/en/v2/Appendix-B%3A-Embedding-Git-in-your-Applications-Command-line-Git">Command-line Git</a>
          </li>
          <li>
            A2.2
            <a href="Appendix-B%253A-Embedding-Git-in-your-Applications-Libgit2.html">Libgit2</a>
          </li>
          <li>
            A2.3
            <a href="http://git-scm.com/book/en/v2/Appendix-B%3A-Embedding-Git-in-your-Applications-JGit">JGit</a>
          </li>
          <li>
            A2.4
            <a href="http://git-scm.com/book/en/v2/Appendix-B%3A-Embedding-Git-in-your-Applications-go-git">go-git</a>
          </li>
          <li>
            A2.5
            <a href="http://git-scm.com/book/en/v2/Appendix-B%3A-Embedding-Git-in-your-Applications-Dulwich">Dulwich</a>
          </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A3. <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Setup-and-Config">Appendix C: Git Commands</a></h2>
    <ol>
          <li>
            A3.1
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Setup-and-Config">Setup and Config</a>
          </li>
          <li>
            A3.2
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Getting-and-Creating-Projects">Getting and Creating Projects</a>
          </li>
          <li>
            A3.3
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Basic-Snapshotting">Basic Snapshotting</a>
          </li>
          <li>
            A3.4
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Branching-and-Merging">Branching and Merging</a>
          </li>
          <li>
            A3.5
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Sharing-and-Updating-Projects">Sharing and Updating Projects</a>
          </li>
          <li>
            A3.6
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Inspection-and-Comparison">Inspection and Comparison</a>
          </li>
          <li>
            A3.7
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Debugging">Debugging</a>
          </li>
          <li>
            A3.8
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Patching">Patching</a>
          </li>
          <li>
            A3.9
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Email">Email</a>
          </li>
          <li>
            A3.10
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-External-Systems">External Systems</a>
          </li>
          <li>
            A3.11
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Administration">Administration</a>
          </li>
          <li>
            A3.12
            <a href="http://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Plumbing-Commands">Plumbing Commands</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
  </div>
 </div>

    <span class="light" id="edition">
      2nd Edition
    </span>
</div>

<div id='main' class="book edition2">
    <a name="//apple_ref/Guide/7.3%20Git%20Tools%20-%20Stashing%20and%20Cleaning" class="dashAnchor"></a>
<h1>7.3 Git Tools - Stashing and Cleaning</h1>
  <div>
<a name="//apple_ref/Section/Stashing%20and%20Cleaning" class="dashAnchor"></a>
<h2 id="_git_stashing">Stashing and Cleaning</h2>
<div class="paragraph">
<p>Often, when you’ve been working on part of your project, things are in a messy state and you want to switch branches for a bit to work on something else.
The problem is, you don’t want to do a commit of half-done work just so you can get back to this point later.
The answer to this issue is the <code>git stash</code> command.</p>
</div>
<div class="paragraph">
<p>Stashing takes the dirty state of your working directory — that is, your modified tracked files and staged changes — and saves it on a stack of unfinished changes that you can reapply at any time (even on a different branch).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Migrating to <code>git stash push</code>
</div>
<div class="paragraph">
<p>As of late October 2017, there has been extensive discussion on the Git mailing list, wherein the command <code>git stash save</code> is being deprecated in favour of the existing alternative <code>git stash push</code>.
The main reason for this is that <code>git stash push</code> introduces the option of stashing selected <em>pathspecs</em>, something <code>git stash save</code> does not support.</p>
</div>
<div class="paragraph">
<p><code>git stash save</code> is not going away any time soon, so don’t worry about it suddenly disappearing.
But you might want to start migrating over to the <code>push</code> alternative for the new functionality.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h3 id="_stashing_your_work">Stashing Your Work</h3>
<div class="paragraph">
<p>To demonstrate stashing, you’ll go into your project and start working on a couple of files and possibly stage one of the changes.
If you run <code>git status</code>, you can see your dirty state:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

	modified:   index.html

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   lib/simplegit.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you want to switch branches, but you don’t want to commit what you’ve been working on yet, so you’ll stash the changes.
To push a new stash onto your stack, run <code>git stash</code> or <code>git stash push</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash
Saved working directory and index state \
  "WIP on master: 049d078 added the index file"
HEAD is now at 049d078 added the index file
(To restore them type "git stash apply")</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now see that your working directory is clean:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
# On branch master
nothing to commit, working directory clean</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, you can switch branches and do work elsewhere; your changes are stored on your stack.
To see which stashes you’ve stored, you can use <code>git stash list</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash list
stash@{0}: WIP on master: 049d078 added the index file
stash@{1}: WIP on master: c264051 Revert "added file_size"
stash@{2}: WIP on master: 21d80a5 added number to log</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, two stashes were saved previously, so you have access to three different stashed works.
You can reapply the one you just stashed by using the command shown in the help output of the original stash command: <code>git stash apply</code>.
If you want to apply one of the older stashes, you can specify it by naming it, like this: <code>git stash apply stash@{2}</code>.
If you don’t specify a stash, Git assumes the most recent stash and tries to apply it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash apply
On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   index.html
	modified:   lib/simplegit.rb

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that Git re-modifies the files you reverted when you saved the stash.
In this case, you had a clean working directory when you tried to apply the stash, and you tried to apply it on the same branch you saved it from.
Having a clean working directory and applying it on the same branch aren’t necessary to successfully apply a stash.
You can save a stash on one branch, switch to another branch later, and try to reapply the changes.
You can also have modified and uncommitted files in your working directory when you apply a stash — Git gives you merge conflicts if anything no longer applies cleanly.</p>
</div>
<div class="paragraph">
<p>The changes to your files were reapplied, but the file you staged before wasn’t restaged.
To do that, you must run the <code>git stash apply</code> command with a <code>--index</code> option to tell the command to try to reapply the staged changes.
If you had run that instead, you’d have gotten back to your original position:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash apply --index
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

	modified:   index.html

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   lib/simplegit.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>The apply option only tries to apply the stashed work — you continue to have it on your stack.
To remove it, you can run <code>git stash drop</code> with the name of the stash to remove:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash list
stash@{0}: WIP on master: 049d078 added the index file
stash@{1}: WIP on master: c264051 Revert "added file_size"
stash@{2}: WIP on master: 21d80a5 added number to log
$ git stash drop stash@{0}
Dropped stash@{0} (364e91f3f268f0900bc3ee613f9f733e82aaed43)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also run <code>git stash pop</code> to apply the stash and then immediately drop it from your stack.</p>
</div>
</div>
<div class="sect3">
<h3 id="_creative_stashing">Creative Stashing</h3>
<div class="paragraph">
<p>There are a few stash variants that may also be helpful.
The first option that is quite popular is the <code>--keep-index</code> option to the <code>git stash</code> command.
This tells Git to not only include all staged content in the stash being created, but simultaneously leave it in the index.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
M  index.html
 M lib/simplegit.rb

$ git stash --keep-index
Saved working directory and index state WIP on master: 1b65b17 added the index file
HEAD is now at 1b65b17 added the index file

$ git status -s
M  index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another common thing you may want to do with stash is to stash the untracked files as well as the tracked ones.
By default, <code>git stash</code> will stash only modified and staged <em>tracked</em> files.
If you specify <code>--include-untracked</code> or <code>-u</code>, Git will include untracked files in the stash being created.
However, including untracked files in the stash will still not include explicitly <em>ignored</em> files; to additionally include ignored files, use <code>--all</code> (or just <code>-a</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
M  index.html
 M lib/simplegit.rb
?? new-file.txt

$ git stash -u
Saved working directory and index state WIP on master: 1b65b17 added the index file
HEAD is now at 1b65b17 added the index file

$ git status -s
$</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, if you specify the <code>--patch</code> flag, Git will not stash everything that is modified but will instead prompt you interactively which of the changes you would like to stash and which you would like to keep in your working directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash --patch
diff --git a/lib/simplegit.rb b/lib/simplegit.rb
index 66d332e..8bb5674 100644
--- a/lib/simplegit.rb
+++ b/lib/simplegit.rb
@@ -16,6 +16,10 @@ class SimpleGit
         return `#{git_cmd} 2&gt;&amp;1`.chomp
       end
     end
+
+    def show(treeish = 'master')
+      command("git show #{treeish}")
+    end

 end
 test
Stash this hunk [y,n,q,a,d,/,e,?]? y

Saved working directory and index state WIP on master: 1b65b17 added the index file</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_creating_a_branch_from_a_stash">Creating a Branch from a Stash</h3>
<div class="paragraph">
<p>If you stash some work, leave it there for a while, and continue on the branch from which you stashed the work, you may have a problem reapplying the work.
If the apply tries to modify a file that you’ve since modified, you’ll get a merge conflict and will have to try to resolve it.
If you want an easier way to test the stashed changes again, you can run <code>git stash branch &lt;new branchname&gt;</code>, which creates a new branch for you with your selected branch name, checks out the commit you were on when you stashed your work, reapplies your work there, and then drops the stash if it applies successfully:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git stash branch testchanges
M	index.html
M	lib/simplegit.rb
Switched to a new branch 'testchanges'
On branch testchanges
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

	modified:   index.html

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   lib/simplegit.rb

Dropped refs/stash@{0} (29d385a81d163dfd45a452a2ce816487a6b8b014)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a nice shortcut to recover stashed work easily and work on it in a new branch.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_clean">Cleaning your Working Directory</h3>
<div class="paragraph">
<p>Finally, you may not want to stash some work or files in your working directory, but simply get rid of them.
The <code>git clean</code> command will do this for you.</p>
</div>
<div class="paragraph">
<p>Some common reasons for this might be to remove cruft that has been generated by merges or external tools or to remove build artifacts in order to run a clean build.</p>
</div>
<div class="paragraph">
<p>You’ll want to be pretty careful with this command, since it’s designed to remove files from your working directory that are not tracked.
If you change your mind, there is often no retrieving the content of those files.
A safer option is to run <code>git stash --all</code> to remove everything but save it in a stash.</p>
</div>
<div class="paragraph">
<p>Assuming you do want to remove cruft files or clean your working directory, you can do so with <code>git clean</code>.
To remove all the untracked files in your working directory, you can run <code>git clean -f -d</code>, which removes any files and also any subdirectories that become empty as a result.
The <code>-f</code> means <em>force</em> or "really do this".</p>
</div>
<div class="paragraph">
<p>If you ever want to see what it would do, you can run the command with the <code>-n</code> option, which means “do a dry run and tell me what you <em>would</em> have removed”.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clean -d -n
Would remove test.o
Would remove tmp/</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the <code>git clean</code> command will only remove untracked files that are not ignored.
Any file that matches a pattern in your <code>.gitignore</code> or other ignore files will not be removed.
If you want to remove those files too, such as to remove all <code>.o</code> files generated from a build so you can do a fully clean build, you can add a <code>-x</code> to the clean command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
 M lib/simplegit.rb
?? build.TMP
?? tmp/

$ git clean -n -d
Would remove build.TMP
Would remove tmp/

$ git clean -n -d -x
Would remove build.TMP
Would remove test.o
Would remove tmp/</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don’t know what the <code>git clean</code> command is going to do, always run it with a <code>-n</code> first to double check before changing the <code>-n</code> to a <code>-f</code> and doing it for real.
The other way you can be careful about the process is to run it with the <code>-i</code> or “interactive” flag.</p>
</div>
<div class="paragraph">
<p>This will run the clean command in an interactive mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clean -x -i
Would remove the following items:
  build.TMP  test.o
*** Commands ***
    1: clean                2: filter by pattern    3: select by numbers    4: ask each             5: quit
    6: help
What now&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This way you can step through each file individually or specify patterns for deletion interactively.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There is a quirky situation where you might need to be extra forceful in asking Git to clean your working directory.
If you happen to be in a working directory under which you’ve copied or cloned other Git repositories (perhaps as submodules), even <code>git clean -fd</code> will refuse to delete those directories.
In cases like that, you need to add a second <code>-f</code> option for emphasis.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div id="nav"><a href="Git-Tools-Interactive-Staging.html">prev</a> | <a href="Git-Tools-Signing-Your-Work.html">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    <a href="http://git-scm.com/site">About this site</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="http://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

<script src="http://git-scm.com/assets/application-df8e4c34a53c9af865972757bd97591066f28f7c8ce2ec256c1b2f10c8c7b16a.js"></script>

    </div>

</body>
</html>
